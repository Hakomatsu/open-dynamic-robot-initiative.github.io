<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>robot_interfaces: robot_interfaces::RobotLogger&lt; Action, Observation &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">robot_interfaces
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classrobot__interfaces_1_1RobotLogger.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classrobot__interfaces_1_1RobotLogger-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">robot_interfaces::RobotLogger&lt; Action, Observation &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Log robot data (observations, actions, status) to file.  
 <a href="classrobot__interfaces_1_1RobotLogger.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="robot__logger_8hpp_source.html">robot_logger.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aacc60628e6fd5ca26f15dfe51763697d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#aacc60628e6fd5ca26f15dfe51763697d">RobotLogger</a> (std::shared_ptr&lt; <a class="el" href="classrobot__interfaces_1_1RobotData.html">robot_interfaces::RobotData</a>&lt; Action, Observation &gt;&gt; robot_data, int block_size=100)</td></tr>
<tr class="memdesc:aacc60628e6fd5ca26f15dfe51763697d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize logger.  <a href="#aacc60628e6fd5ca26f15dfe51763697d">More...</a><br /></td></tr>
<tr class="separator:aacc60628e6fd5ca26f15dfe51763697d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a1b50c75aab3255ac7e6d412de833d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a7a1b50c75aab3255ac7e6d412de833d1">start</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:a7a1b50c75aab3255ac7e6d412de833d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a thread to continuously log to file in the background.  <a href="#a7a1b50c75aab3255ac7e6d412de833d1">More...</a><br /></td></tr>
<tr class="separator:a7a1b50c75aab3255ac7e6d412de833d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ec7dcacd849adee53fa49a2a0c8234"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a55ec7dcacd849adee53fa49a2a0c8234">stop</a> ()</td></tr>
<tr class="memdesc:a55ec7dcacd849adee53fa49a2a0c8234"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop logging that was started with <code><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a7a1b50c75aab3255ac7e6d412de833d1" title="Start a thread to continuously log to file in the background. ">start()</a></code> previously.  <a href="#a55ec7dcacd849adee53fa49a2a0c8234">More...</a><br /></td></tr>
<tr class="separator:a55ec7dcacd849adee53fa49a2a0c8234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7467fbac96a67ab798c4e6ef56c9b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#ada7467fbac96a67ab798c4e6ef56c9b1">write_current_buffer</a> (const std::string filename, long int start_index=0)</td></tr>
<tr class="memdesc:ada7467fbac96a67ab798c4e6ef56c9b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write current content of robot data to log file.  <a href="#ada7467fbac96a67ab798c4e6ef56c9b1">More...</a><br /></td></tr>
<tr class="separator:ada7467fbac96a67ab798c4e6ef56c9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a9bcf9c2eaadd6e87b410daf65e0b3f07"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a9bcf9c2eaadd6e87b410daf65e0b3f07">construct_header</a> ()</td></tr>
<tr class="memdesc:a9bcf9c2eaadd6e87b410daf65e0b3f07"><td class="mdescLeft">&#160;</td><td class="mdescRight">To get the title of the log file, describing all the information that will be logged in it.  <a href="#a9bcf9c2eaadd6e87b410daf65e0b3f07">More...</a><br /></td></tr>
<tr class="separator:a9bcf9c2eaadd6e87b410daf65e0b3f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab27971e5fd581e7cd8b8e449f5892637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#ab27971e5fd581e7cd8b8e449f5892637">append_names_to_header</a> (const std::string &amp;identifier, const std::vector&lt; std::string &gt; &amp;field_name, const std::vector&lt; std::vector&lt; double &gt;&gt; &amp;field_data, std::vector&lt; std::string &gt; &amp;header)</td></tr>
<tr class="memdesc:ab27971e5fd581e7cd8b8e449f5892637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills in the name information of each field to be logged according to the size of the field.  <a href="#ab27971e5fd581e7cd8b8e449f5892637">More...</a><br /></td></tr>
<tr class="separator:ab27971e5fd581e7cd8b8e449f5892637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff864106933593e16e5f3d6b5a8c4c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a3ff864106933593e16e5f3d6b5a8c4c2">write_header_to_file</a> ()</td></tr>
<tr class="memdesc:a3ff864106933593e16e5f3d6b5a8c4c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header to the log file.  <a href="#a3ff864106933593e16e5f3d6b5a8c4c2">More...</a><br /></td></tr>
<tr class="separator:a3ff864106933593e16e5f3d6b5a8c4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae435545ce6d6b273b190859fdd30719"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#aae435545ce6d6b273b190859fdd30719">append_robot_data_to_file</a> (long int start_index, long int block_size)</td></tr>
<tr class="memdesc:aae435545ce6d6b273b190859fdd30719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a block of time steps to the log file.  <a href="#aae435545ce6d6b273b190859fdd30719">More...</a><br /></td></tr>
<tr class="separator:aae435545ce6d6b273b190859fdd30719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac37dfe19cbd427ba3ecf1238e8a64bed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#ac37dfe19cbd427ba3ecf1238e8a64bed">append_field_data_to_file</a> (const std::vector&lt; std::vector&lt; double &gt;&gt; &amp;field_data)</td></tr>
<tr class="memdesc:ac37dfe19cbd427ba3ecf1238e8a64bed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends the data corresponding to every field at the same time index to the log file.  <a href="#ac37dfe19cbd427ba3ecf1238e8a64bed">More...</a><br /></td></tr>
<tr class="separator:ac37dfe19cbd427ba3ecf1238e8a64bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21b7aa8531a57bb3740ac5282093815"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#ad21b7aa8531a57bb3740ac5282093815">loop</a> ()</td></tr>
<tr class="memdesc:ad21b7aa8531a57bb3740ac5282093815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes everything to the log file.  <a href="#ad21b7aa8531a57bb3740ac5282093815">More...</a><br /></td></tr>
<tr class="separator:ad21b7aa8531a57bb3740ac5282093815"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a913d7af3357263aeb4b4296af92d417b"><td class="memItemLeft" align="right" valign="top"><a id="a913d7af3357263aeb4b4296af92d417b"></a>
std::thread&#160;</td><td class="memItemRight" valign="bottom"><b>thread_</b></td></tr>
<tr class="separator:a913d7af3357263aeb4b4296af92d417b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1391bc38ff516f01b3c8bdd91e27efc"><td class="memItemLeft" align="right" valign="top"><a id="ad1391bc38ff516f01b3c8bdd91e27efc"></a>
std::shared_ptr&lt; <a class="el" href="classrobot__interfaces_1_1RobotData.html">robot_interfaces::RobotData</a>&lt; Action, Observation &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>logger_data_</b></td></tr>
<tr class="separator:ad1391bc38ff516f01b3c8bdd91e27efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0465f86efac78a429f8980bd2a12959e"><td class="memItemLeft" align="right" valign="top"><a id="a0465f86efac78a429f8980bd2a12959e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>block_size_</b></td></tr>
<tr class="separator:a0465f86efac78a429f8980bd2a12959e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac47398855bcb94ca8a3e83334ee1d382"><td class="memItemLeft" align="right" valign="top"><a id="ac47398855bcb94ca8a3e83334ee1d382"></a>
long int&#160;</td><td class="memItemRight" valign="bottom"><b>index_</b></td></tr>
<tr class="separator:ac47398855bcb94ca8a3e83334ee1d382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeed0904c937b1fd7f88512456e98b80"><td class="memItemLeft" align="right" valign="top"><a id="afeed0904c937b1fd7f88512456e98b80"></a>
std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>stop_was_called_</b></td></tr>
<tr class="separator:afeed0904c937b1fd7f88512456e98b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3d0546de38f9ce6ba8ef8302126f59"><td class="memItemLeft" align="right" valign="top"><a id="a7b3d0546de38f9ce6ba8ef8302126f59"></a>
std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>is_running_</b></td></tr>
<tr class="separator:a7b3d0546de38f9ce6ba8ef8302126f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03a18fb24545744533c39e193c5920a"><td class="memItemLeft" align="right" valign="top"><a id="aa03a18fb24545744533c39e193c5920a"></a>
std::ofstream&#160;</td><td class="memItemRight" valign="bottom"><b>output_file_</b></td></tr>
<tr class="separator:aa03a18fb24545744533c39e193c5920a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a180a1ad565fd1a2342c6a40465fea731"><td class="memItemLeft" align="right" valign="top"><a id="a180a1ad565fd1a2342c6a40465fea731"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>output_file_name_</b></td></tr>
<tr class="separator:a180a1ad565fd1a2342c6a40465fea731"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Action, typename Observation&gt;<br />
class robot_interfaces::RobotLogger&lt; Action, Observation &gt;</h3>

<p>Log robot data (observations, actions, status) to file. </p>
<p>Logs for each time step the time index, timestamp, and the values Observation, Action, and <a class="el" href="structrobot__interfaces_1_1Status.html" title="Status information from the backend. ">Status</a>. The data is written to a text file, one line per time step with values separated by spaces. This format can easily be read e.g. with NumPy or Pandas.</p>
<p>There are two different ways of using the logger:</p>
<ol type="1">
<li>Write all the data from the time series to the file in one function call. Use this if the time series buffer is big enough to cover the whole time span that you want to log. This way all the data is written to the file in the end, when the robot is not moving anymore. This way it will not interfere with the running robot but there is the risk of losing all data in case the software crashes before writing the log. Use the method <code><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#ada7467fbac96a67ab798c4e6ef56c9b1" title="Write current content of robot data to log file. ">write_current_buffer()</a></code> for this.</li>
<li>Run the logger in the background and write blocks of data to the log file while the robot is running. This has the advantage that arbitrary time spans can be logged independent of the buffer size of the time series. Further in case of a software crash not all data will be lost but only the data since the last block was written. However, it has the huge disadvantage that writing to the file may cause delays in the real-time critical robot code, thus causing the robot to shut down if timing constraints are violated. Use the <code><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a7a1b50c75aab3255ac7e6d412de833d1" title="Start a thread to continuously log to file in the background. ">start()</a></code> and <code><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a55ec7dcacd849adee53fa49a2a0c8234" title="Stop logging that was started with start() previously. ">stop()</a></code> methods for this.</li>
</ol>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Action</td><td>Type of the robot action. Must derive from <a class="el" href="classrobot__interfaces_1_1Loggable.html">Loggable</a>. </td></tr>
    <tr><td class="paramname">Observation</td><td>Type of the robot observation. Must derive from <a class="el" href="classrobot__interfaces_1_1Loggable.html">Loggable</a>. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aacc60628e6fd5ca26f15dfe51763697d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacc60628e6fd5ca26f15dfe51763697d">&#9670;&nbsp;</a></span>RobotLogger()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::<a class="el" href="classrobot__interfaces_1_1RobotLogger.html">RobotLogger</a> </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classrobot__interfaces_1_1RobotData.html">robot_interfaces::RobotData</a>&lt; Action, Observation &gt;&gt;&#160;</td>
          <td class="paramname"><em>robot_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block_size</em> = <code>100</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize logger. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">robot_data</td><td>Pointer to the robot data instance. </td></tr>
    <tr><td class="paramname">block_size</td><td>Block size for writing data to the file when running the logger in the background. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac37dfe19cbd427ba3ecf1238e8a64bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac37dfe19cbd427ba3ecf1238e8a64bed">&#9670;&nbsp;</a></span>append_field_data_to_file()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::append_field_data_to_file </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; double &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>field_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Appends the data corresponding to every field at the same time index to the log file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field_data</td><td>The field data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab27971e5fd581e7cd8b8e449f5892637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab27971e5fd581e7cd8b8e449f5892637">&#9670;&nbsp;</a></span>append_names_to_header()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::append_names_to_header </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>field_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; double &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>field_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills in the name information of each field to be logged according to the size of the field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>The structure the field corresponds to </td></tr>
    <tr><td class="paramname">field_name</td><td>The name of the field </td></tr>
    <tr><td class="paramname">field_data</td><td>The field data </td></tr>
    <tr><td class="paramname">&amp;header</td><td>Reference to the header of the log file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae435545ce6d6b273b190859fdd30719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae435545ce6d6b273b190859fdd30719">&#9670;&nbsp;</a></span>append_robot_data_to_file()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::append_robot_data_to_file </td>
          <td>(</td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>start_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>block_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes a block of time steps to the log file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start_index</td><td>Time index marking the beginning of the block. </td></tr>
    <tr><td class="paramname">block_size</td><td>Number of time steps that are written to the log file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9bcf9c2eaadd6e87b410daf65e0b3f07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bcf9c2eaadd6e87b410daf65e0b3f07">&#9670;&nbsp;</a></span>construct_header()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; <a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::construct_header </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To get the title of the log file, describing all the information that will be logged in it. </p>
<dl class="section return"><dt>Returns</dt><dd>header The title of the log file. </dd></dl>

</div>
</div>
<a id="ad21b7aa8531a57bb3740ac5282093815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21b7aa8531a57bb3740ac5282093815">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes everything to the log file. </p>
<p>It dumps all the data corresponding to block_size_ number of time indices at one go. </p>

</div>
</div>
<a id="a7a1b50c75aab3255ac7e6d412de833d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a1b50c75aab3255ac7e6d412de833d1">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::start </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start a thread to continuously log to file in the background. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a55ec7dcacd849adee53fa49a2a0c8234" title="Stop logging that was started with start() previously. ">stop()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The name of the log file. Existing files will be overwritten! </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a55ec7dcacd849adee53fa49a2a0c8234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55ec7dcacd849adee53fa49a2a0c8234">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop logging that was started with <code><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a7a1b50c75aab3255ac7e6d412de833d1" title="Start a thread to continuously log to file in the background. ">start()</a></code> previously. </p>
<p>Does nothing if logger is not currently running. </p>

</div>
</div>
<a id="ada7467fbac96a67ab798c4e6ef56c9b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada7467fbac96a67ab798c4e6ef56c9b1">&#9670;&nbsp;</a></span>write_current_buffer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::write_current_buffer </td>
          <td>(</td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>start_index</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write current content of robot data to log file. </p>
<p>Logs the whole content of the robot data starting from the time index specified by <code>start_index</code> until the current time index. If <code>start_index</code> is too old (i.e. not inside the robot data buffer anymore), logging will start at the oldest available time index instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Path to the log file. Existing files will be overwritten! </td></tr>
    <tr><td class="paramname">start_index</td><td>Time index at which to start logging. If not specified, the whole buffer is logged. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>If called while the logger thread is running. In case the logger thread was started via <code><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a7a1b50c75aab3255ac7e6d412de833d1" title="Start a thread to continuously log to file in the background. ">start()</a></code>, it needs to be stopped by calling <code><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#a55ec7dcacd849adee53fa49a2a0c8234" title="Stop logging that was started with start() previously. ">stop()</a></code> before <code><a class="el" href="classrobot__interfaces_1_1RobotLogger.html#ada7467fbac96a67ab798c4e6ef56c9b1" title="Write current content of robot data to log file. ">write_current_buffer()</a></code> can be used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3ff864106933593e16e5f3d6b5a8c4c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ff864106933593e16e5f3d6b5a8c4c2">&#9670;&nbsp;</a></span>write_header_to_file()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Action , typename Observation &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classrobot__interfaces_1_1RobotLogger.html">robot_interfaces::RobotLogger</a>&lt; Action, Observation &gt;::write_header_to_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the header to the log file. </p>
<p>This overwrites existing files! </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/robot_interfaces/<a class="el" href="robot__logger_8hpp_source.html">robot_logger.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>robot_interfaces</b></li><li class="navelem"><a class="el" href="classrobot__interfaces_1_1RobotLogger.html">RobotLogger</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
