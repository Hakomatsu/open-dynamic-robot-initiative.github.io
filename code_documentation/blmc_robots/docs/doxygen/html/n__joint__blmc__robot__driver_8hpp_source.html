<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>blmc_robots: include/blmc_robots/n_joint_blmc_robot_driver.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">blmc_robots
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('n__joint__blmc__robot__driver_8hpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">n_joint_blmc_robot_driver.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="n__joint__blmc__robot__driver_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;array&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;yaml-cpp/yaml.h&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;Eigen/Eigen&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;yaml_cpp_catkin/yaml_eigen.h&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;robot_interfaces/monitored_robot_driver.hpp&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;robot_interfaces/n_joint_robot_types.hpp&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;robot_interfaces/robot_driver.hpp&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="blmc__joint__module_8hpp.html">blmc_robots/blmc_joint_module.hpp</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="clamp_8hpp.html">blmc_robots/clamp.hpp</a>&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="common__header_8hpp.html">blmc_robots/common_header.hpp</a>&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceblmc__robots.html">blmc_robots</a></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1MotorParameters.html">   32</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structblmc__robots_1_1MotorParameters.html">MotorParameters</a></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1MotorParameters.html#a960e7f64dae8cd08837f8bff620eacfb">   35</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structblmc__robots_1_1MotorParameters.html#a960e7f64dae8cd08837f8bff620eacfb">torque_constant_NmpA</a>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1MotorParameters.html#a6a8158b9ac1633bab6181043d04ab655">   43</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="structblmc__robots_1_1MotorParameters.html#a6a8158b9ac1633bab6181043d04ab655">gear_ratio</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;};</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Observation, <span class="keywordtype">size_t</span> N_JOINTS, <span class="keywordtype">size_t</span> N_MOTOR_BOARDS&gt;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classblmc__robots_1_1NJointBlmcRobotDriver.html">   56</a></span>&#160;<span class="keyword">class </span><a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html">NJointBlmcRobotDriver</a></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    : <span class="keyword">public</span> robot_interfaces::RobotDriver&lt;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;          typename robot_interfaces::NJointAction&lt;N_JOINTS&gt;,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;          Observation&gt;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> num_joints = N_JOINTS;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> num_motor_boards = N_MOTOR_BOARDS;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> robot_interfaces::NJointAction&lt;N_JOINTS&gt; Action;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> robot_interfaces::RobotInterfaceTypes&lt;Action, Observation&gt;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        Types;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> Action::Vector Vector;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keyword">typedef</span> std::array&lt;std::shared_ptr&lt;blmc_drivers::MotorInterface&gt;, N_JOINTS&gt;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        Motors;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">typedef</span> std::array&lt;std::shared_ptr&lt;blmc_drivers::CanBusMotorBoard&gt;,</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                       N_MOTOR_BOARDS&gt;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        MotorBoards;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classblmc__robots_1_1NJointBlmcRobotDriver.html#a584b85a9e8356e4afcdf1559edd700cc">   76</a></span>&#160;    <span class="keyword">struct </span>Config;  <span class="comment">// actual declaration see below</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html#a584b85a9e8356e4afcdf1559edd700cc">has_endstop_</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html">NJointBlmcRobotDriver</a>(<span class="keyword">const</span> MotorBoards &amp;motor_boards,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                          <span class="keyword">const</span> Motors &amp;motors,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                          <span class="keyword">const</span> <a class="code" href="structblmc__robots_1_1MotorParameters.html">MotorParameters</a> &amp;motor_parameters,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                          <span class="keyword">const</span> Config &amp;config)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        : robot_interfaces::RobotDriver&lt;Action, Observation&gt;(),</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          has_endstop_(config.has_endstop),</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;          joint_modules_(motors,</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                         motor_parameters.<a class="code" href="structblmc__robots_1_1MotorParameters.html#a960e7f64dae8cd08837f8bff620eacfb">torque_constant_NmpA</a> * Vector::Ones(),</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                         motor_parameters.<a class="code" href="structblmc__robots_1_1MotorParameters.html#a6a8158b9ac1633bab6181043d04ab655">gear_ratio</a> * Vector::Ones(),</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                         Vector::Zero(),</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                         config.max_current_A * Vector::Ones()),</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;          motor_boards_(motor_boards),</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;          motor_parameters_(motor_parameters),</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;          max_torque_Nm_(config.max_current_A *</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                         motor_parameters.<a class="code" href="structblmc__robots_1_1MotorParameters.html#a960e7f64dae8cd08837f8bff620eacfb">torque_constant_NmpA</a> *</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                         motor_parameters.<a class="code" href="structblmc__robots_1_1MotorParameters.html#a6a8158b9ac1633bab6181043d04ab655">gear_ratio</a>),</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;          config_(config)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        pause_motors();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">static</span> MotorBoards create_motor_boards(</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keyword">const</span> std::array&lt;std::string, N_MOTOR_BOARDS&gt; &amp;can_ports);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    Vector get_max_torques()<span class="keyword"> const</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">return</span> max_torque_Nm_ * Vector::Ones();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">void</span> pause_motors();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    Vector get_measured_index_angles() <span class="keyword">const</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">void</span> initialize() <span class="keyword">override</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">virtual</span> Observation get_latest_observation() <span class="keyword">override</span> = 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    Action apply_action(<span class="keyword">const</span> Action &amp;desired_action) <span class="keyword">override</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    std::string get_error() <span class="keyword">override</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">void</span> shutdown() <span class="keyword">override</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">static</span> Action process_desired_action(</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keyword">const</span> Action &amp;desired_action,</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keyword">const</span> Observation &amp;latest_observation,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> max_torque_Nm,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keyword">const</span> Vector &amp;safety_kd,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keyword">const</span> Vector &amp;default_position_control_kp,</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keyword">const</span> Vector &amp;default_position_control_kd,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keyword">const</span> Vector &amp;lower_position_limits =</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            Vector::Constant(-std::numeric_limits&lt;double&gt;::infinity()),</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keyword">const</span> Vector &amp;upper_position_limits =</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            Vector::Constant(std::numeric_limits&lt;double&gt;::infinity()));</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">bool</span> is_within_hard_position_limits(<span class="keyword">const</span> Observation &amp;observation) <span class="keyword">const</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classblmc__robots_1_1BlmcJointModules.html">BlmcJointModules&lt;N_JOINTS&gt;</a> joint_modules_;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    MotorBoards motor_boards_;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classblmc__robots_1_1NJointBlmcRobotDriver.html#ad5e1875908bb62b2f014c3f8dfce969d">  207</a></span>&#160;    <a class="code" href="structblmc__robots_1_1MotorParameters.html">MotorParameters</a> <a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html#ad5e1875908bb62b2f014c3f8dfce969d">motor_parameters_</a>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="classblmc__robots_1_1NJointBlmcRobotDriver.html#a62f708a1406f8dfb68361c5698a5559b">  210</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html#a62f708a1406f8dfb68361c5698a5559b">max_torque_Nm_</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classblmc__robots_1_1NJointBlmcRobotDriver.html#a5af27a320384e0189725ee1b13edc314">  218</a></span>&#160;    Config <a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html#a5af27a320384e0189725ee1b13edc314">config_</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordtype">bool</span> is_initialized_ = <span class="keyword">false</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    Action apply_action_uninitialized(<span class="keyword">const</span> Action &amp;desired_action);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">void</span> _initialize();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordtype">bool</span> homing(Vector <a class="code" href="n__joint__blmc__robot__driver_8hpp.html#a8f0c3d2c5211dc9fd38c4d64bdcf77cb">endstop_search_torques_Nm</a>,</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                Vector home_offset_rad = Vector::Zero());</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordtype">bool</span> move_to_position(<span class="keyword">const</span> Vector &amp;goal_pos,</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                          <span class="keyword">const</span> <span class="keywordtype">double</span> tolerance,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                          <span class="keyword">const</span> uint32_t time_steps);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;};</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Observation, <span class="keywordtype">size_t</span> N_JOINTS, <span class="keywordtype">size_t</span> N_MOTOR_BOARDS&gt;</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html">  279</a></span>&#160;<span class="keyword">struct </span><a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html">NJointBlmcRobotDriver</a>&lt;Observation, N_JOINTS, N_MOTOR_BOARDS&gt;::<a class="code" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html">Config</a></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">typedef</span> std::array&lt;std::string, N_MOTOR_BOARDS&gt; CanPortArray;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config_1_1TrajectoryStep.html">  284</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config_1_1TrajectoryStep.html">TrajectoryStep</a></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    {</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config_1_1TrajectoryStep.html#a3c03278743cdf69bf8703b8aa79fcfa8">  287</a></span>&#160;        Vector target_position_rad = Vector::Zero();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config_1_1TrajectoryStep.html#a7f25136ce7f8bfdbb2e049adee6d9312">  290</a></span>&#160;        uint32_t <a class="code" href="n__joint__blmc__robot__driver_8hpp.html#afdd12622d686b2b39d6c1e41e1eac263">move_steps</a> = 0;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    };</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// All parameters should have default values that should not result in</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// dangerous behaviour in case someone forgets to specify them.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a4e59e7c7ac5daba34f83eb8f1456a103">  304</a></span>&#160;    CanPortArray <a class="code" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a4e59e7c7ac5daba34f83eb8f1456a103">can_ports</a>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a553c5cb5a9da1f0c5e5f9e4c2e19c286">  307</a></span>&#160;    <span class="keywordtype">double</span> max_current_A = 0.0;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a8fb4f2f8ae75bf1555cd6c3ea5272541">  319</a></span>&#160;    <span class="keywordtype">bool</span> has_endstop = <span class="keyword">false</span>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keyword">struct</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    {</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="n__joint__blmc__robot__driver_8hpp.html#a8f0c3d2c5211dc9fd38c4d64bdcf77cb">  325</a></span>&#160;        Vector <a class="code" href="n__joint__blmc__robot__driver_8hpp.html#a8f0c3d2c5211dc9fd38c4d64bdcf77cb">endstop_search_torques_Nm</a> = Vector::Zero();</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="n__joint__blmc__robot__driver_8hpp.html#afdd12622d686b2b39d6c1e41e1eac263">  327</a></span>&#160;        uint32_t <a class="code" href="n__joint__blmc__robot__driver_8hpp.html#afdd12622d686b2b39d6c1e41e1eac263">move_steps</a> = 0;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    } calibration;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#ab4093c960a915b4ee5fdfde0684e3969">  332</a></span>&#160;    <span class="keywordtype">double</span> move_to_position_tolerance_rad = 0.0;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// set some rather high damping by default</span></div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a4e0c7fdf26616be5d67a9be7ee2452c7">  336</a></span>&#160;    Vector safety_kd = Vector::Constant(0.1);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keyword">struct</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        Vector kp = Vector::Zero();</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        Vector kd = Vector::Zero();</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    } position_control_gains;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a8acf96c93bad0de685708962474fa662">  350</a></span>&#160;    Vector hard_position_limits_lower = Vector::Zero();</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a7fbf059f76b04dc531a0d10e92fc066d">  356</a></span>&#160;    Vector hard_position_limits_upper = Vector::Zero();</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a18a496c6cf2f794930ee72f2746e223f">  364</a></span>&#160;    Vector soft_position_limits_lower =</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        Vector::Constant(-std::numeric_limits&lt;double&gt;::infinity());</div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a06ae5378a2d4f7d19a3e8b501651bfbc">  372</a></span>&#160;    Vector soft_position_limits_upper =</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        Vector::Constant(std::numeric_limits&lt;double&gt;::infinity());</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a432b086d9f6258c036098a75501c3dab">  376</a></span>&#160;    Vector home_offset_rad = Vector::Zero();</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a448a4d4166184f4b5f53be4ad60eec7e">  382</a></span>&#160;    Vector initial_position_rad = Vector::Zero();</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a1f241f65d2b50b3bb5b4b83837dbaae8">  391</a></span>&#160;    std::vector&lt;TrajectoryStep&gt; <a class="code" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a1f241f65d2b50b3bb5b4b83837dbaae8">shutdown_trajectory</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordtype">bool</span> is_within_hard_position_limits(<span class="keyword">const</span> Vector &amp;position) <span class="keyword">const</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordtype">void</span> print() <span class="keyword">const</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keyword">static</span> <a class="code" href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html">Config</a> load_config(<span class="keyword">const</span> std::string &amp;config_file_name);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> set_config_value(<span class="keyword">const</span> YAML::Node &amp;user_config,</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                 <span class="keyword">const</span> std::string &amp;name,</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                 T *var);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;};</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> N_JOINTS, <span class="keywordtype">size_t</span> N_MOTOR_BOARDS = (N_JOINTS + 1) / 2&gt;</div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classblmc__robots_1_1SimpleNJointBlmcRobotDriver.html">  448</a></span>&#160;<span class="keyword">class</span> <a class="code" href="classblmc__robots_1_1SimpleNJointBlmcRobotDriver.html">SimpleNJointBlmcRobotDriver</a></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html">NJointBlmcRobotDriver</a>&lt;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;          robot_interfaces::NJointObservation&lt;N_JOINTS&gt;,</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          N_JOINTS,</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          N_MOTOR_BOARDS&gt;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keyword">typedef</span> robot_interfaces::NJointObservation&lt;N_JOINTS&gt; Observation;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keyword">using</span> <a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html">NJointBlmcRobotDriver&lt;robot_interfaces::NJointObservation&lt;N_JOINTS&gt;</a>,</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                N_JOINTS,</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                                N_MOTOR_BOARDS&gt;<a class="code" href="classblmc__robots_1_1NJointBlmcRobotDriver.html">::NJointBlmcRobotDriver</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    Observation get_latest_observation() <span class="keyword">override</span>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;};</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Driver&gt;</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="n__joint__blmc__robot__driver_8hpp.html#aaca4aacc4fe2917984029d7136140021">  480</a></span>&#160;<span class="keyword">typename</span> Driver::Types::BackendPtr <a class="code" href="n__joint__blmc__robot__driver_8hpp.html#aaca4aacc4fe2917984029d7136140021">create_backend</a>(</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keyword">typename</span> Driver::Types::BaseDataPtr robot_data,</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keyword">const</span> std::string &amp;config_file_path,</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> first_action_timeout = std::numeric_limits&lt;double&gt;::infinity(),</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keyword">const</span> uint32_t max_number_of_actions = 0)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;{</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    constexpr <span class="keywordtype">double</span> MAX_ACTION_DURATION_S = 0.003;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    constexpr <span class="keywordtype">double</span> MAX_INTER_ACTION_DURATION_S = 0.005;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Load robot driver configuration from file &#39;&quot;</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;              &lt;&lt; config_file_path &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keyword">auto</span> config = Driver::Config::load_config(config_file_path);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    config.print();</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// wrap the actual robot driver directly in a MonitoredRobotDriver</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keyword">auto</span> monitored_driver =</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        std::make_shared&lt;robot_interfaces::MonitoredRobotDriver&lt;Driver&gt;&gt;(</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            std::make_shared&lt;Driver&gt;(config),</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            MAX_ACTION_DURATION_S,</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            MAX_INTER_ACTION_DURATION_S);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    constexpr <span class="keywordtype">bool</span> real_time_mode = <span class="keyword">true</span>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keyword">auto</span> backend = std::make_shared&lt;typename Driver::Types::Backend&gt;(</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        monitored_driver,</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        robot_data,</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        real_time_mode,</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        first_action_timeout,</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        max_number_of_actions);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    backend-&gt;set_max_action_repetitions(std::numeric_limits&lt;uint32_t&gt;::max());</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span> backend;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;}  <span class="comment">// namespace blmc_robots</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="n__joint__blmc__robot__driver_8hxx.html">n_joint_blmc_robot_driver.hxx</a>&quot;</span></div><div class="ttc" id="structblmc__robots_1_1MotorParameters_html"><div class="ttname"><a href="structblmc__robots_1_1MotorParameters.html">blmc_robots::MotorParameters</a></div><div class="ttdoc">Parameters related to the motor. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:32</div></div>
<div class="ttc" id="classblmc__robots_1_1NJointBlmcRobotDriver_html_a62f708a1406f8dfb68361c5698a5559b"><div class="ttname"><a href="classblmc__robots_1_1NJointBlmcRobotDriver.html#a62f708a1406f8dfb68361c5698a5559b">blmc_robots::NJointBlmcRobotDriver::max_torque_Nm_</a></div><div class="ttdeci">double max_torque_Nm_</div><div class="ttdoc">Maximum torque allowed on each joint. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:210</div></div>
<div class="ttc" id="classblmc__robots_1_1NJointBlmcRobotDriver_html_a5af27a320384e0189725ee1b13edc314"><div class="ttname"><a href="classblmc__robots_1_1NJointBlmcRobotDriver.html#a5af27a320384e0189725ee1b13edc314">blmc_robots::NJointBlmcRobotDriver::config_</a></div><div class="ttdeci">Config config_</div><div class="ttdoc">User-defined configuration of the driver. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:218</div></div>
<div class="ttc" id="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config_1_1TrajectoryStep_html"><div class="ttname"><a href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config_1_1TrajectoryStep.html">blmc_robots::NJointBlmcRobotDriver::Config::TrajectoryStep</a></div><div class="ttdoc">A sub-goal of a trajectory. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:284</div></div>
<div class="ttc" id="classblmc__robots_1_1NJointBlmcRobotDriver_html"><div class="ttname"><a href="classblmc__robots_1_1NJointBlmcRobotDriver.html">blmc_robots::NJointBlmcRobotDriver</a></div><div class="ttdoc">Base class for n-joint BLMC robots. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:56</div></div>
<div class="ttc" id="classblmc__robots_1_1BlmcJointModules_html"><div class="ttname"><a href="classblmc__robots_1_1BlmcJointModules.html">blmc_robots::BlmcJointModules&lt; N_JOINTS &gt;</a></div></div>
<div class="ttc" id="structblmc__robots_1_1MotorParameters_html_a6a8158b9ac1633bab6181043d04ab655"><div class="ttname"><a href="structblmc__robots_1_1MotorParameters.html#a6a8158b9ac1633bab6181043d04ab655">blmc_robots::MotorParameters::gear_ratio</a></div><div class="ttdeci">double gear_ratio</div><div class="ttdoc">Gear ratio between motor and joint. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:43</div></div>
<div class="ttc" id="blmc__joint__module_8hpp_html"><div class="ttname"><a href="blmc__joint__module_8hpp.html">blmc_joint_module.hpp</a></div></div>
<div class="ttc" id="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config_html_a1f241f65d2b50b3bb5b4b83837dbaae8"><div class="ttname"><a href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a1f241f65d2b50b3bb5b4b83837dbaae8">blmc_robots::NJointBlmcRobotDriver::Config::shutdown_trajectory</a></div><div class="ttdeci">std::vector&lt; TrajectoryStep &gt; shutdown_trajectory</div><div class="ttdoc">Trajectory which is executed in the shutdown method. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:391</div></div>
<div class="ttc" id="clamp_8hpp_html"><div class="ttname"><a href="clamp_8hpp.html">clamp.hpp</a></div></div>
<div class="ttc" id="structblmc__robots_1_1MotorParameters_html_a960e7f64dae8cd08837f8bff620eacfb"><div class="ttname"><a href="structblmc__robots_1_1MotorParameters.html#a960e7f64dae8cd08837f8bff620eacfb">blmc_robots::MotorParameters::torque_constant_NmpA</a></div><div class="ttdeci">double torque_constant_NmpA</div><div class="ttdoc">Torque constant K_t of the motor [Nm/A]. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:35</div></div>
<div class="ttc" id="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config_html_a4e59e7c7ac5daba34f83eb8f1456a103"><div class="ttname"><a href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html#a4e59e7c7ac5daba34f83eb8f1456a103">blmc_robots::NJointBlmcRobotDriver::Config::can_ports</a></div><div class="ttdeci">CanPortArray can_ports</div><div class="ttdoc">List of CAN port names used by the robot. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:304</div></div>
<div class="ttc" id="n__joint__blmc__robot__driver_8hpp_html_aaca4aacc4fe2917984029d7136140021"><div class="ttname"><a href="n__joint__blmc__robot__driver_8hpp.html#aaca4aacc4fe2917984029d7136140021">blmc_robots::create_backend</a></div><div class="ttdeci">Driver::Types::BackendPtr create_backend(typename Driver::Types::BaseDataPtr robot_data, const std::string &amp;config_file_path, const double first_action_timeout=std::numeric_limits&lt; double &gt;::infinity(), const uint32_t max_number_of_actions=0)</div><div class="ttdoc">Create backend using the specified driver. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:480</div></div>
<div class="ttc" id="classblmc__robots_1_1NJointBlmcRobotDriver_html_a584b85a9e8356e4afcdf1559edd700cc"><div class="ttname"><a href="classblmc__robots_1_1NJointBlmcRobotDriver.html#a584b85a9e8356e4afcdf1559edd700cc">blmc_robots::NJointBlmcRobotDriver::has_endstop_</a></div><div class="ttdeci">const bool has_endstop_</div><div class="ttdoc">True if the joints have mechanical end stops, false if not. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:76</div></div>
<div class="ttc" id="common__header_8hpp_html"><div class="ttname"><a href="common__header_8hpp.html">common_header.hpp</a></div><div class="ttdoc">The hardware wrapper of the quadruped. </div></div>
<div class="ttc" id="n__joint__blmc__robot__driver_8hpp_html_a8f0c3d2c5211dc9fd38c4d64bdcf77cb"><div class="ttname"><a href="n__joint__blmc__robot__driver_8hpp.html#a8f0c3d2c5211dc9fd38c4d64bdcf77cb">endstop_search_torques_Nm</a></div><div class="ttdeci">Vector endstop_search_torques_Nm</div><div class="ttdoc">Torque that is used to find the end stop. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:325</div></div>
<div class="ttc" id="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config_html"><div class="ttname"><a href="structblmc__robots_1_1NJointBlmcRobotDriver_1_1Config.html">blmc_robots::NJointBlmcRobotDriver::Config</a></div><div class="ttdoc">Configuration of the robot that can be changed by the user. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:279</div></div>
<div class="ttc" id="classblmc__robots_1_1SimpleNJointBlmcRobotDriver_html"><div class="ttname"><a href="classblmc__robots_1_1SimpleNJointBlmcRobotDriver.html">blmc_robots::SimpleNJointBlmcRobotDriver</a></div><div class="ttdoc">Simple n-joint robot driver that uses NJointObservation. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:448</div></div>
<div class="ttc" id="n__joint__blmc__robot__driver_8hxx_html"><div class="ttname"><a href="n__joint__blmc__robot__driver_8hxx.html">n_joint_blmc_robot_driver.hxx</a></div><div class="ttdoc">Base driver for a generic n-joint BLMC robot. </div></div>
<div class="ttc" id="namespaceblmc__robots_html"><div class="ttname"><a href="namespaceblmc__robots.html">blmc_robots</a></div><div class="ttdef"><b>Definition:</b> common_demo_header.hpp:14</div></div>
<div class="ttc" id="n__joint__blmc__robot__driver_8hpp_html_afdd12622d686b2b39d6c1e41e1eac263"><div class="ttname"><a href="n__joint__blmc__robot__driver_8hpp.html#afdd12622d686b2b39d6c1e41e1eac263">move_steps</a></div><div class="ttdeci">uint32_t move_steps</div><div class="ttdoc">Number of time steps for reaching the initial position. </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:327</div></div>
<div class="ttc" id="classblmc__robots_1_1NJointBlmcRobotDriver_html_ad5e1875908bb62b2f014c3f8dfce969d"><div class="ttname"><a href="classblmc__robots_1_1NJointBlmcRobotDriver.html#ad5e1875908bb62b2f014c3f8dfce969d">blmc_robots::NJointBlmcRobotDriver::motor_parameters_</a></div><div class="ttdeci">MotorParameters motor_parameters_</div><div class="ttdoc">Fixed motor parameters (assuming all joints use same setup). </div><div class="ttdef"><b>Definition:</b> n_joint_blmc_robot_driver.hpp:207</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_e75c9b227ca21f29e86f20993703f373.html">blmc_robots</a></li><li class="navelem"><a class="el" href="n__joint__blmc__robot__driver_8hpp.html">n_joint_blmc_robot_driver.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
