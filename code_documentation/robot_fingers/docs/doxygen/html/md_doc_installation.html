<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>robot_fingers: Build Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">robot_fingers
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_doc_installation.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Build Instructions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>We provide a Singularity image with all required dependencies to build and run the software. See <a class="el" href="md_doc_singularity.html">About Singularity</a>.</p>
<p>You can, of course, also use the package without Singularity. In this case you need to install all dependencies locally, though.</p>
<h2>Get the Source </h2>
<p><code>robot_fingers</code> depends on several other of our packages which are organized in separate repositories. We therefore use a workspace management tool called <a href="https://pypi.org/project/treep/">treep</a> which allows easy cloning of multi-repository projects.</p>
<p>treep can be installed via pip: </p><pre class="fragment">pip install treep
</pre><p>Clone the treep configuration containing the "ROBOT_FINGERS" project: </p><pre class="fragment">git clone git@github.com:machines-in-motion/treep_machines_in_motion.git
</pre><p><b>Note:</b> treep searches for a configuration directory from the current working directory upwards. So you can use treep in the directory in which you invoked the <code>git clone</code> command above or any subdirectory.</p>
<p>Now clone the project: </p><pre class="fragment">treep --clone ROBOT_FINGERS
</pre><p><b>Important:</b> treep uses SSH to clone from github. So for the above command to work, you need a github account with a registered SSH key. Further this key needs to work without asking for a password everytime. To achieve this, run </p><pre class="fragment">ssh-add
</pre><p>first.</p>
<h2>Build </h2>
<h3>With Singularity</h3>
<p>Go to the root directory of your workspace (the one containing the "src" folder) and run the container in shell mode (see <a class="el" href="md_doc_singularity.html">About Singularity</a>): </p><pre class="fragment">singularity shell -e --no-home -B $(pwd) path/to/image.sif
</pre><p>The current working directory gets automatically mounted into the container so you can edit all the files from outside the container using your preferred editor or IDE and all changes will directly be visible inside the container. Vise versa modifications done from inside the container will modify the files on the host system!</p>
<p>Inside the container first set up the environment: </p><pre class="fragment">Singularity&gt; source /setup.bash
</pre><p>This will source the ROS <code>setup.bash</code> and create an alias <code>catbuild</code> for catkin that already contains the argument to set the Python executable to python3 (needed to get Python 3 bindings).</p>
<p>Now you can build by using this alias: </p><pre class="fragment">Singularity&gt; catbuild
</pre><h3>Without Singularity</h3>
<p>To build, cd into the <code>workspace</code> directory and build with </p><pre class="fragment">catkin build
</pre><h3>Python Bindings</h3>
<p>With the above command Python bindings will be build for the default python version of your system (see <code>python --version</code>). If you want to use a different version (e.g. python3), you can specify as follows: </p><pre class="fragment">catkin build -DPYTHON_EXECUTABLE=/usr/bin/python3
</pre><p>Note that all our scripts are implemented for Python 3, so if your default version is not already 3, you need to specify this in order to use these scripts. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
